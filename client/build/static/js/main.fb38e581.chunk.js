(this.webpackJsonptentti=this.webpackJsonptentti||[]).push([[0],{345:function(t,e,a){"use strict";a.r(e);var n=a(2),i=a(0),s=a(10),r=a.n(s),o=a(110),c=a(18),l=a.n(c),u=a(37),d=a(15),b=a(26),j=a.n(b),p=a(58),m=a(376),h=a(6),x=a(401),g=a(169),k=a(379),y=a(88),O=Object(m.a)((function(t){return{root:{display:"flex",fontSize:"0.875rem",flexWrap:"wrap"},title:{flexGrow:1},cover:{width:50,padding:10},margin:{margin:t.spacing(1)},withoutLabel:{marginTop:t.spacing(3)},textField:{width:"25ch"}}})),v=Object(h.a)({root:{color:y.a[400],"&$checked":{color:y.a[600]}},checked:{}})((function(t){return Object(n.jsx)(x.a,Object(p.a)({color:"default"},t))})),f=Object(g.a)(k.a)({color:"#fff",padding:"6px 8px",fontSize:"0.875rem"}),w=Object(g.a)(k.a)({color:"#3f51b5",padding:"6px 8px"}),N=a(21),C=a.n(N),_=a(397),S=a(380),E=a(381),T=a(382),F=a(383),I=a(384),B=a(385),A=a(386),D=a(164),U=new(a.n(D).a)({fi:{kieli:"kieli",tentit:"tentit",tilastot:"tilastot",rekisteroidy:"rekister\xf6idy",kirjaudu:"kirjaudu sis\xe4\xe4n",tietoa:"tietoa",kayttaja:"k\xe4ytt\xe4j\xe4",yllapitaja:"yll\xe4pit\xe4j\xe4",poistu:"kirjaudu ulos",etunimi:"etunimi",sukunimi:"sukunimi",sahkoposti:"s\xe4hk\xf6posti",salasana:"salasana",rooli:"rooli",nayta:"n\xe4yt\xe4",vastaukset:"vastaukset",esimerkki:"esimerkki",kaavio:"kaavio",tiedostonlahetys:"tiedoston l\xe4hetys",pudotatiedostot:"Pudota tiedostot t\xe4h\xe4n",valitsetiedostot:"tai klikkaa valitaksesi tiedostoja"},en:{kieli:"language",tentit:"exams",tilastot:"statistics",rekisteroidy:"sign in",kirjaudu:"log in",tietoa:"about",kayttaja:"user",yllapitaja:"admin",poistu:"sign out",etunimi:"first name",sukunimi:"last name",sahkoposti:"email",salasana:"password",rooli:"role",nayta:"show",vastaukset:"answers",esimerkki:"example",kaavio:"chart",tiedostonlahetys:"upload file",pudotatiedostot:"Drop the files here",valitsetiedostot:"or click to select files"}}),W=null;new Error("Environment not properly set!");function L(t,e){var a=JSON.parse(JSON.stringify(t));switch(e.type){case"checked_changed":return a[e.data.examIndex].kysymykset[e.data.cardIndex].vaihtoehdot[e.data.listItemIndex].vastaus=e.data.checkedValue,a;case"INIT_DATA":return e.data;default:throw new Error}}W="https://tentti-fullstack.herokuapp.com/";var J=function(){var t=Object(i.useState)(!1),e=Object(d.a)(t,2),a=e[0],s=e[1],r=Object(i.useState)(-1),o=Object(d.a)(r,2),c=o[0],b=o[1],p=Object(i.useReducer)(L,[]),m=Object(d.a)(p,2),h=m[0],g=m[1],y=O();Object(i.useEffect)((function(){(function(){var t=Object(u.a)(l.a.mark((function t(){var e,a,n,i,s,r,o,c,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.a.get(W+"kayttajan_tentit/1");case 3:if(e=t.sent,!((a=e.data).length>0)){t.next=33;break}n=0;case 7:if(!(n<a.length)){t.next=30;break}return a[n].kysymykset=[],t.next=11,C.a.get(W+"tentin_kysymykset/"+a[n].id);case 11:return i=t.sent,a[n].kysymykset=i.data,t.next=15,C.a.get(W+"kayttajan_vastaukset/1/"+a[n].id);case 15:s=t.sent,r=0;case 17:if(!(r<a[n].kysymykset.length)){t.next=27;break}return a[n].kysymykset[r].vaihtoehdot=[],t.next=21,C.a.get(W+"kysymyksen_vaihtoehdot/"+a[n].kysymykset[r].id);case 21:for(o=t.sent,a[n].kysymykset[r].vaihtoehdot=o.data,c=0;c<a[n].kysymykset[r].vaihtoehdot.length;c++)for(u=0;u<s.data.length;u++)a[n].kysymykset[r].vaihtoehdot[c].id===s.data[u].vaihtoehto_id&&(a[n].kysymykset[r].vaihtoehdot[c].vastaus=s.data[u].vastaus);case 24:r++,t.next=17;break;case 27:n++,t.next=7;break;case 30:g({type:"INIT_DATA",data:a}),t.next=34;break;case 33:throw console.log("Dataa ei saatu palvelimelta.");case 34:t.next=39;break;case 36:t.prev=36,t.t0=t.catch(0),console.log(t.t0);case 39:case"end":return t.stop()}}),t,null,[[0,36]])})));return function(){return t.apply(this,arguments)}})()()}),[]);var f=function(){var t=Object(u.a)(l.a.mark((function t(e,a,n,i,s){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.a.put(W+"paivita_valinta/1/"+n+"/"+s+"/1/"+a);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("Datan p\xe4ivit\xe4minen ei onnistunut.");case 8:g({type:"checked_changed",data:{examIndex:c,cardIndex:e,listItemIndex:i,checkedValue:a}});case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e,a,n,i,s){return t.apply(this,arguments)}}();return Object(n.jsxs)(_.a,{children:[Object(n.jsx)(S.a,{}),Object(n.jsxs)(E.a,{style:{marginTop:"80px",marginBottom:"15px"},maxWidth:"lg",component:"main",children:[Object.values(h).map((function(t,e){return Object(n.jsx)(w,{style:{marginTop:"10px"},name:t.nimi,onClick:function(){return b(e),void s(!1)},children:t.nimi},j()())})),c>=0&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{children:h[c].nimi}),Object.values(h[c].kysymykset).map((function(t,e){return Object(n.jsxs)(T.a,{style:{marginTop:"10px"},className:y.root,children:[Object(n.jsx)(F.a,{style:{width:"100%"},className:y.content,children:Object(n.jsxs)(I.a,{children:[Object(n.jsx)("p",{className:"label",style:{whiteSpace:"pre-wrap"},children:t.lause}),Object.values(t.vaihtoehdot).map((function(t,i){return Object(n.jsxs)(B.a,{children:[Object(n.jsx)(x.a,{checked:t.vastaus,disabled:a,onChange:function(a){f(e,a.target.checked,t.id,i,h[c].id)}}),a&&Object(n.jsx)(v,{disabled:!0,checked:t.oikea_vastaus,color:"primary"}),Object(n.jsx)("p",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:t.vaihtoehto})]},j()())}))]})}),a&&(i=Object.values(t.vaihtoehdot),i.filter((function(t){return t.vastaus===t.oikea_vastaus})).length===i.length)?Object(n.jsx)(A.a,{className:y.cover,children:Object(n.jsx)("img",{className:"image",src:"/images/selma.png",height:"30px",width:"30px",alt:"Selma"})}):null]},j()());var i})),Object(n.jsxs)(k.a,{style:{marginTop:"10px",marginRight:"10px"},name:"vastaukset",variant:"contained",color:"primary",onClick:function(){return s(!a)},children:[U.nayta," ",U.vastaukset]})]})]},"container1_user")]})},R=(a(347),a(387),a(403),a(388),a(389),a(398));a(111),a(392),new Error("Environment not properly set!");var P=a(86);function z(t,e){return Math.floor(Math.random()*(e-t+1))+t}var M={labels:["kivi","magmakivilajit","metaforiset kivilajit","javascript"],datasets:[{label:"# oikeista vastauksista",data:[z(1,10),z(1,10),z(1,10),z(1,10)],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(75, 192, 192, 0.2)","rgba(255, 206, 86, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)","rgba(255, 206, 86, 1)"],borderWidth:1}]},K={legend:{display:!0},scales:{xAxes:[{display:!0,ticks:{min:0}}],yAxes:[{display:!0}]}},H=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsxs)("h1",{className:"title",children:["1. ",U.esimerkki," ",U.kaavio]})}),Object(n.jsx)(P.HorizontalBar,{data:M,options:K})]})};function V(t,e){return Math.floor(Math.random()*(e-t+1))+t}var q={labels:["kivi","magmakivilajit","metaforiset kivilajit","javascript"],datasets:[{data:[V(1,3),V(3,5),V(5,7),V(7,10)],backgroundColor:["#FF6384","#36A2EB","#FFCE56","#25CE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56","#25CE56"]}]},G=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsxs)("h1",{className:"title",children:["2. ",U.esimerkki," ",U.kaavio]})}),Object(n.jsx)(P.Doughnut,{data:q})]})};var Q=function(){return Object(n.jsxs)(_.a,{children:[Object(n.jsx)(S.a,{}),Object(n.jsxs)(E.a,{style:{marginTop:"80px",marginBottom:"15px"},maxWidth:"lg",component:"main",children:[Object(n.jsx)(T.a,{style:{marginTop:"10px"},children:Object(n.jsx)(F.a,{style:{width:"100%"},className:"HorizontalBarChart",children:Object(n.jsx)(H,{})})}),Object(n.jsx)(T.a,{style:{marginTop:"10px"},children:Object(n.jsx)(F.a,{style:{width:"100%"},className:"DoughnutChart",children:Object(n.jsx)(G,{})})})]},"container1_user")]})};a(168),a(166),new Error("Environment not properly set!");var $=a(404),X=a(391),Y=a(393),Z=a(172),tt=a(400),et=a(402),at=a(394),nt=a(390),it=a(348),st=null;new Error("Environment not properly set!");st="https://tentti-fullstack.herokuapp.com/";var rt=function(){var t=Object(i.useState)(""),e=Object(d.a)(t,2),a=e[0],s=e[1],r=Object(i.useState)(""),o=Object(d.a)(r,2),c=o[0],b=o[1],j=Object(i.useState)(""),p=Object(d.a)(j,2),m=p[0],h=p[1],x=Object(i.useState)(""),g=Object(d.a)(x,2),y=g[0],O=g[1],v=Object(i.useState)("user"),f=Object(d.a)(v,2),w=f[0],N=f[1],_=function(){var t=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.a.post(st+"lisaa_kayttaja",{etunimi:a,sukunimi:c,sahkoposti:m,salasana_hash:y,rooli:w});case 3:e=t.sent,console.log(e),alert("K\xe4ytt\xe4j\xe4 lis\xe4tty onnistuneesti!"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(Z.a,{variant:"h2",component:"h2",style:{paddingTop:"60px"},className:"h3 mb-3 font-weight-normal",children:U.rekisteroidy}),Object(n.jsxs)(Y.a,{container:!0,spacing:1,children:[Object(n.jsx)(Y.a,{style:{padding:"20px"},container:!0,item:!0,xs:12,spacing:3,children:Object(n.jsx)(R.a,{name:"etunimi",label:U.etunimi,id:"outlined-start-adornment1",variant:"outlined",value:a,onChange:function(t){return s(t.target.value)}})}),Object(n.jsx)(Y.a,{style:{padding:"20px"},container:!0,item:!0,xs:12,spacing:3,children:Object(n.jsx)(R.a,{name:"sukunimi",label:U.sukunimi,id:"outlined-start-adornment2",variant:"outlined",value:c,onChange:function(t){return b(t.target.value)}})}),Object(n.jsx)(Y.a,{style:{padding:"20px"},container:!0,item:!0,xs:12,spacing:3,children:Object(n.jsx)(R.a,{name:"sahkoposti",label:U.sahkoposti,id:"outlined-start-adornment3",variant:"outlined",value:m,onChange:function(t){return h(t.target.value)}})}),Object(n.jsx)(Y.a,{style:{padding:"20px"},container:!0,item:!0,xs:12,spacing:3,children:Object(n.jsxs)(nt.a,{variant:"outlined",children:[Object(n.jsx)(X.a,{htmlFor:"outlined-adornment-password",children:U.salasana}),Object(n.jsx)($.a,{name:"salasana",id:"outlined-adornment-password",labelWidth:70,value:y,onChange:function(t){return O(t.target.value)}})]})}),Object(n.jsx)(Y.a,{style:{padding:"20px"},container:!0,item:!0,xs:12,spacing:3,children:Object(n.jsxs)(nt.a,{component:"fieldset",children:[Object(n.jsx)(it.a,{component:"legend",children:U.rooli}),Object(n.jsxs)(et.a,{"aria-label":"rooli",name:"rooli1",value:w,onChange:function(t){N(t.target.value)},children:[Object(n.jsx)(at.a,{value:"user",control:Object(n.jsx)(tt.a,{}),label:U.kayttaja}),Object(n.jsx)(at.a,{value:"admin",control:Object(n.jsx)(tt.a,{}),label:U.yllapitaja})]})]})}),Object(n.jsx)(Y.a,{style:{padding:"20px"},container:!0,item:!0,xs:12,spacing:3,children:Object(n.jsx)(k.a,{name:"rekisteroidy_nappi",onClick:_,type:"submit",className:"btn btn-lg btn-primary btn-block",variant:"contained",color:"primary",children:U.rekisteroidy})})]})]})},ot=function(){var t=Object(i.useState)(""),e=Object(d.a)(t,2),a=e[0],s=e[1],r=Object(i.useState)(""),o=Object(d.a)(r,2),c=o[0],b=o[1],j=function(){var t=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("login");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(Z.a,{variant:"h2",component:"h2",style:{paddingTop:"60px"},className:"h3 mb-3 font-weight-normal",children:U.kirjaudu}),Object(n.jsxs)(Y.a,{container:!0,spacing:1,children:[Object(n.jsx)(Y.a,{style:{padding:"20px"},container:!0,item:!0,xs:12,spacing:3,children:Object(n.jsx)(R.a,{name:"sahkoposti",label:U.sahkoposti,id:"outlined-start-adornment3",variant:"outlined",value:a,onChange:function(t){return s(t.target.value)}})}),Object(n.jsx)(Y.a,{style:{padding:"20px"},container:!0,item:!0,xs:12,spacing:3,children:Object(n.jsxs)(nt.a,{variant:"outlined",children:[Object(n.jsx)(X.a,{htmlFor:"outlined-adornment-password",children:U.salasana}),Object(n.jsx)($.a,{name:"salasana_hash",id:"outlined-adornment-password",labelWidth:70,value:c,onChange:function(t){return b(t.target.value)}})]})}),Object(n.jsx)(Y.a,{style:{padding:"20px"},container:!0,item:!0,xs:12,spacing:3,children:Object(n.jsx)(k.a,{onClick:j,type:"submit",className:"btn btn-lg btn-primary btn-block",variant:"contained",color:"primary",children:U.kirjaudu})})]})]})},ct=a(395),lt=a(396);function ut(){var t=O();return U.setLanguage(U.getInterfaceLanguage()),console.log("Browser language in Settings: "+U.getInterfaceLanguage()),console.log("React App language: "+U.getLanguage()),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(ct.a,{position:"fixed",children:Object(n.jsxs)(lt.a,{children:[Object(n.jsxs)(Z.a,{variant:"h6",className:t.title,children:[Object(n.jsx)(f,{name:"tentit",href:"/",children:U.tentit}),Object(n.jsx)(f,{name:"tilastot",href:"/Stats",children:U.tilastot}),Object(n.jsx)(f,{name:"rekisteroidy",href:"/Register",children:U.rekisteroidy}),Object(n.jsx)(f,{name:"kirjaudu",href:"/Login",children:U.kirjaudu}),Object(n.jsx)(f,{name:"tietoa",target:"_blank",href:"https://www.youtube.com/watch?v=sAqnNWUD79Q",children:U.tietoa})]}),Object(n.jsx)(f,{name:"user",href:"/User",style:{backgroundColor:"white",color:"blue",marginRight:"10px"},children:U.kayttaja}),Object(n.jsx)(f,{name:"poistu",children:U.poistu})]})})})}var dt=a(13),bt=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(ut,{}),Object(n.jsxs)(dt.d,{children:[Object(n.jsx)(dt.b,{exact:!0,path:"/User",component:J}),Object(n.jsx)(dt.b,{exact:!0,path:"/",children:Object(n.jsx)(dt.a,{to:"/User"})}),Object(n.jsx)(dt.b,{exact:!0,path:"/Stats",component:Q}),Object(n.jsx)(dt.b,{exact:!0,path:"/Register",component:rt}),Object(n.jsx)(dt.b,{exact:!0,path:"/Login",component:ot})]})]})},jt=a(167),pt=a.n(jt),mt=a(67),ht=a.n(mt),xt=null;new Error("Environment not properly set!");xt="https://tentti-fullstack.herokuapp.com",console.log("WebSocket kuuntelee ilmoituksia");var gt=pt()(xt);gt.on("connected",(function(t){gt.emit("ready for data",{})})),gt.on("update",(function(t){var e=JSON.parse(t.message.payload);switch(console.log("Trigger: "+e.trigger),e.trigger){case"insert_tentti":console.log("Uusi tentti "+e.row.nimi+" lis\xe4tty!"),ht.a.fire({title:"<strong>Uusi tentti <i>"+e.row.nimi+"</i> lis\xe4tty!</strong>",html:'<pre style="text-align: left;"><b>id:</b>\t\t\t'+e.row.id+"<br/><b>nimi:</b>\t\t\t"+e.row.nimi+"<br/><b>suoritettu:</b>\t\t"+e.row.suoritettu+"<br/><b>aloitus:</b>\t\t"+e.row.aloitus+"<br/><b>lopetus:</b>\t\t"+e.row.lopetus+"<br/><b>minimipisteraja:</b>\t"+e.row.minimipisteraja+"</pre>",timer:1e4,timerProgressBar:!0,position:"bottom-end",icon:"success"});break;case"delete_tentti":console.log("Tentti "+e.row.nimi+" poistettu!"),ht.a.fire({title:"<strong>Tentti <i>"+e.row.nimi+"</i> poistettu!</strong>",html:'<pre style="text-align: left;"><b>id:</b>\t\t\t'+e.row.id+"<br/><b>nimi:</b>\t\t\t"+e.row.nimi+"<br/><b>suoritettu:</b>\t\t"+e.row.suoritettu+"<br/><b>aloitus:</b>\t\t"+e.row.aloitus+"<br/><b>lopetus:</b>\t\t"+e.row.lopetus+"<br/><b>minimipisteraja:</b>\t"+e.row.minimipisteraja+"</pre>",timer:1e4,timerProgressBar:!0,position:"bottom-end",icon:"warning"});break;case"insert_kurssi":console.log("Uusi kurssi "+e.row.nimi+" lis\xe4tty!"),ht.a.fire({title:"<strong>Uusi kurssi <i>"+e.row.nimi+"</i> lis\xe4tty!</strong>",html:'<pre style="text-align: left;"><b>id:</b>\t\t\t'+e.row.id+"<br/><b>nimi:</b>\t\t\t"+e.row.nimi+"<br/><b>aloitus:</b>\t\t"+e.row.aloitus+"<br/><b>lopetus:</b>\t\t"+e.row.lopetus+"<br/></pre>",timer:1e4,timerProgressBar:!0,position:"bottom-end",icon:"success"});break;case"delete_kurssi":console.log("Kurssi "+e.row.nimi+" poistettu!"),ht.a.fire({title:"<strong>Kurssi <i>"+e.row.nimi+"</i> poistettu!</strong>",html:'<pre style="text-align: left;"><b>id:</b>\t\t\t'+e.row.id+"<br/><b>nimi:</b>\t\t\t"+e.row.nimi+"<br/><b>aloitus:</b>\t\t"+e.row.aloitus+"<br/><b>lopetus:</b>\t\t"+e.row.lopetus+"<br/></pre>",timer:1e4,timerProgressBar:!0,position:"bottom-end",icon:"warning"});break;default:console.log("Jotain meni pahasti pieleen...")}})),r.a.render(Object(n.jsx)(o.a,{children:Object(n.jsx)(bt,{})}),document.getElementById("root"))}},[[345,1,2]]]);
//# sourceMappingURL=main.fb38e581.chunk.js.map